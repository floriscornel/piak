{{- define "fromArrayInstantiation" -}}
        return new self(
{{- range $index, $prop := .Properties }}
            {{ $prop.Name }}: {{ template "propertyAssignment" $prop }}{{ if ne $index (sub (len $.Properties) 1) }},{{ end }}
{{- end }}
        );
{{- end -}}

{{- define "propertyAssignment" -}}
{{- if and .Required .PHPType.IsArray }}$validated{{ .Name | capitalize }}{{ else }}${{ .Name }}{{ end }}
{{- end -}} 